{

	"Changes": [

	// Mail //////////////////////////////////////////////////////////

	{
		"Action": "EditData",
		"Target": "Data/mail",
		"Entries": {
			"{{ModId}}_BC_M1": "{{i18n:Si.PilotPenny.Books.MailContent1}}%action Additem (O){{ModId}}_BalloonIntroBookNote%% %action AddMail Current {{ModId}}_HasBalloonIntroBook%%[#]{{i18n:Si.PilotPenny.Books.MailName1}}",
			"{{ModId}}_BC_M2": "{{i18n:Si.PilotPenny.Books.MailContent2}}%action Additem (O){{ModId}}_BouyancyBookNote%% %action AddMail Current {{ModId}}_HasBouyancyBook%%[#]{{i18n:Si.PilotPenny.Books.MailName2}}",
			"{{ModId}}_BC_M3": "{{i18n:Si.PilotPenny.Books.MailContent3}}%action Additem (O){{ModId}}_BalloonCraftBookNote%% %action AddMail Current {{ModId}}_HasBalloonCraftBook%%[#]{{i18n:Si.PilotPenny.Books.MailName3}}",
			"{{ModId}}_BC_M4": "{{i18n:Si.PilotPenny.Books.MailContent4}}%action Additem (O){{ModId}}_BalloonCertBookNote%% %action AddMail Current {{ModId}}_HasBalloonCertBook%%[#]{{i18n:Si.PilotPenny.Books.MailName4}}",
		},
	},

	// Mail trigger actions

	{
		"Action": "EditData",
		"Target": "Data/TriggerActions",
		"Entries": {
			"{{ModId}}_BC_SendBook1": {
				"Id": "{{ModId}}_BC_SendBook1",
				"MarkActionApplied": true,
				"Trigger": "DayEnding",
				"Condition": "PLAYER_HAS_SEEN_EVENT Current {{ModId}}_E3",
				"Actions": [
					"AddMail Current {{ModId}}_BC_M1 tomorrow",
				]
			},
			"{{ModId}}_BC_SendBook2": {
				"Id": "{{ModId}}_BC_SendBook2",
				"MarkActionApplied": true,
				"Trigger": "DayEnding",
				"Condition": "PLAYER_HAS_SEEN_EVENT Current {{ModId}}_E5",
				"Actions": [
					"AddMail Current {{ModId}}_BC_M2 tomorrow",
				]
			},
			"{{ModId}}_BC_SendBook3": {
				"Id": "{{ModId}}_BC_SendBook3",
				"MarkActionApplied": true,
				"Trigger": "DayEnding",
				"Condition": "PLAYER_HAS_MAIL Current {{ModId}}_M6",
				"Actions": [
					"AddMail Current {{ModId}}_BC_M3 tomorrow",
				]
			},
			"{{ModId}}_BC_SendBook4": {
				"Id": "{{ModId}}_BC_SendBook4",
				"MarkActionApplied": true,
				"Trigger": "DayEnding",
				"Condition": "PLAYER_HAS_MAIL Current {{ModId}}_M5",
				"Actions": [
					"AddMail Current {{ModId}}_BC_M4 tomorrow",
				]
			},
		},
	},

	// Load book sprites //////////////////////////////////////////////////////////

	{
		"Action": "Load",
		"Target": "Mods/{{ModId}}/BalloonBooks",
		"FromFile": "Crossovers/BookCollecting/Books.png"
	},

	{
		"Action": "Load",
		"Target": "Mods/{{ModId}}/BouyancyPages",
		"FromFile": "Crossovers/BookCollecting/BouyancyPages.png"
	},

	// Create book objects //////////////////////////////////////////////////////////

	{
		"Action": "EditData",
		"Target": "Data/Objects",
		"Entries": {

			// BalloonIntro SNF book
			"{{ModId}}_BalloonIntroBookNote": {
				"Name": "{{ModId}}_BalloonIntroBookNote",
				"DisplayName": "{{i18n:Si.PilotPenny.BalloonIntro.BookName}}",
				"Description": "Si.PilotPenny.BalloonIntro.BookDesc",
				"Type": "asdf",
				"Category": 0,
				"Price": 530,
				"Texture": "Mods/{{ModId}}/BalloonBooks",
				"ExcludeFromShippingCollection": true,
				"SpriteIndex": 0,
				"ContextTags": [
					"bc_book",
				],
			},

			// BalloonIntro giftable book
			"{{ModId}}_BalloonIntroBook": {
				"Name": "{{ModId}}_BalloonIntroBook",
				"DisplayName": "{{i18n:Si.PilotPenny.BalloonIntro.BookName}}",
				"Description": "Si.PilotPenny.BalloonIntro.BookDesc",
				"Type": "asdf",
				"Category": 0,
				"Price": 530,
				"Texture": "Mods/{{ModId}}/BalloonBooks",
				"ExcludeFromShippingCollection": true,
				"SpriteIndex": 0,
				"ContextTags": [
					"travel_book",
					"bc_book",
				],
			},

			// Bouyancy SNF book
			"{{ModId}}_BouyancyBookNote": {
				"Name": "{{ModId}}_BouyancyBookNote",
				"DisplayName": "{{i18n:Si.PilotPenny.Bouyancy.BookName}}",
				"Description": "Si.PilotPenny.Bouyancy.BookDesc",
				"Type": "asdf",
				"Category": 0,
				"Price": 530,
				"Texture": "Mods/{{ModId}}/BalloonBooks",
				"ExcludeFromShippingCollection": true,
				"SpriteIndex": 1,
				"ContextTags": [
					"bc_book",
				],
			},

			// Bouyancy giftable book
			"{{ModId}}_BouyancyBook": {
				"Name": "{{ModId}}_BouyancyBook",
				"DisplayName": "{{i18n:Si.PilotPenny.Bouyancy.BookName}}",
				"Description": "Si.PilotPenny.Bouyancy.BookDesc",
				"Type": "asdf",
				"Category": 0,
				"Price": 530,
				"Texture": "Mods/{{ModId}}/BalloonBooks",
				"ExcludeFromShippingCollection": true,
				"SpriteIndex": 1,
				"ContextTags": [
					"science_book",
					"bc_book",
				],
			},

			// BalloonCraft SNF book
			"{{ModId}}_BalloonCraftBookNote": {
				"Name": "{{ModId}}_BalloonCraftBookNote",
				"DisplayName": "{{i18n:Si.PilotPenny.BalloonCraft.BookName}}",
				"Description": "Si.PilotPenny.BalloonCraft.BookDesc",
				"Type": "asdf",
				"Category": 0,
				"Price": 530,
				"Texture": "Mods/{{ModId}}/BalloonBooks",
				"ExcludeFromShippingCollection": true,
				"SpriteIndex": 2,
				"ContextTags": [
					"bc_book",
				],
			},

			// BalloonCraft giftable book
			"{{ModId}}_BalloonCraftBook": {
				"Name": "{{ModId}}_BalloonCraftBook",
				"DisplayName": "{{i18n:Si.PilotPenny.BalloonCraft.BookName}}",
				"Description": "Si.PilotPenny.BalloonCraft.BookDesc",
				"Type": "asdf",
				"Category": 0,
				"Price": 530,
				"Texture": "Mods/{{ModId}}/BalloonBooks",
				"ExcludeFromShippingCollection": true,
				"SpriteIndex": 2,
				"ContextTags": [
					"craft_book",
					"bc_book",
				],
			},

			// BalloonCert SNF book
			"{{ModId}}_BalloonCertBookNote": {
				"Name": "{{ModId}}_BalloonCertBookNote",
				"DisplayName": "{{i18n:Si.PilotPenny.BalloonCert.BookName}}",
				"Description": "Si.PilotPenny.BalloonCert.BookDesc",
				"Type": "asdf",
				"Category": 0,
				"Price": 530,
				"Texture": "Mods/{{ModId}}/BalloonBooks",
				"ExcludeFromShippingCollection": true,
				"SpriteIndex": 3,
				"ContextTags": [
					"bc_book",
				],
			},

			// BalloonCert giftable book
			"{{ModId}}_BalloonCertBook": {
				"Name": "{{ModId}}_BalloonCertBook",
				"DisplayName": "{{i18n:Si.PilotPenny.BalloonCert.BookName}}",
				"Description": "Si.PilotPenny.BalloonCert.BookDesc",
				"Type": "asdf",
				"Category": 0,
				"Price": 530,
				"Texture": "Mods/{{ModId}}/BalloonBooks",
				"ExcludeFromShippingCollection": true,
				"SpriteIndex": 3,
				"ContextTags": [
					"guide_book",
					"bc_book",
				],
			},

			// BreitlingOrbiter SNF book
			"{{ModId}}_BreitlingOrbiterBookNote": {
				"Name": "{{ModId}}_BreitlingOrbiterBookNote",
				"DisplayName": "{{i18n:Si.PilotPenny.BreitlingOrbiter.BookName}}",
				"Description": "Si.PilotPenny.BreitlingOrbiter.BookDesc",
				"Type": "asdf",
				"Category": 0,
				"Price": 530,
				"Texture": "Mods/{{ModId}}/BalloonBooks",
				"ExcludeFromShippingCollection": true,
				"SpriteIndex": 4,
				"ContextTags": [
					"sold_book",
					"bc_book",
				],
			},

			// BreitlingOrbiter giftable book
			"{{ModId}}_BreitlingOrbiterBook": {
				"Name": "{{ModId}}_BreitlingOrbiterBook",
				"DisplayName": "{{i18n:Si.PilotPenny.BreitlingOrbiter.BookName}}",
				"Description": "Si.PilotPenny.BreitlingOrbiter.BookDesc",
				"Type": "asdf",
				"Category": 0,
				"Price": 530,
				"Texture": "Mods/{{ModId}}/BalloonBooks",
				"ExcludeFromShippingCollection": true,
				"SpriteIndex": 4,
				"ContextTags": [
					"travel_book",
					"history_book",
					"adventure_book",
					"bc_book",
				],
			},

		}
	},

// Create SNF entries //////////////////////////////////////////////////////////

	{
		"Target": "Mods/ichortower.SecretNoteFramework/Notes",
		"Action": "EditData",
		"Entries": {

			// BalloonIntro book
			"{{ModId}}_BalloonIntroBookSNF": {
				"Title": "{{i18n:Si.PilotPenny.BalloonIntro.BookName}}",
				"Contents": "Si.PilotPenny.BalloonIntro.BookContent",
				"ObjectId": "(O){{ModId}}_BalloonIntroBookNote",
				"Location": "null",
				"NoteTexture": "Mods/Si.BC/blankbook",
				"NoteTextureIndex": 0,
				"NoteTextColor": "rgb(12, 12, 80)",
				"ActionsOnFirstRead": [
					"AddMail Current {{ModId}}_ReceivedBalloonIntroBook",
					"IncrementStat bc_hasbooks 1",
				]
			},

			// Bouyancy book
			"{{ModId}}_BouyancyBookSNF": {
				"Title": "{{i18n:Si.PilotPenny.Bouyancy.BookName}}",
				"Contents": "Si.PilotPenny.Bouyancy.BookContent",
				"ObjectId": "(O){{ModId}}_BouyancyBookNote",
				"Location": "null",
				"NoteTexture": "Mods/{{ModId}}/BouyancyPages",
				"NoteTextureIndex": 0,
				"NoteTextColor": "rgb(12, 12, 80)",
				"ActionsOnFirstRead": [
					"AddMail Current {{ModId}}_ReceivedBouyancyBook",
					"IncrementStat bc_hasbooks 1",
				]
			},

			// BalloonCraft book
			"{{ModId}}_BalloonCraftBookSNF": {
				"Title": "{{i18n:Si.PilotPenny.BalloonCraft.BookName}}",
				"Contents": "Si.PilotPenny.BalloonCraft.BookContent",
				"ObjectId": "(O){{ModId}}_BalloonCraftBookNote",
				"Location": "null",
				"NoteTexture": "Mods/Si.BC/blankbook",
				"NoteTextureIndex": 0,
				"NoteTextColor": "rgb(12, 12, 80)",
				"ActionsOnFirstRead": [
					"AddMail Current {{ModId}}_ReceivedBalloonCraftBook",
					"IncrementStat bc_hasbooks 1",
				]
			},

			// BalloonCert book
			"{{ModId}}_BalloonCertBookSNF": {
				"Title": "{{i18n:Si.PilotPenny.BalloonCert.BookName}}",
				"Contents": "Si.PilotPenny.BalloonCert.BookContent",
				"ObjectId": "(O){{ModId}}_BalloonCertBookNote",
				"Location": "null",
				"NoteTexture": "Mods/Si.BC/blankbook",
				"NoteTextureIndex": 0,
				"NoteTextColor": "rgb(12, 12, 80)",
				"ActionsOnFirstRead": [
					"AddMail Current {{ModId}}_ReceivedBalloonCertBook",
					"IncrementStat bc_hasbooks 1",
				]
			},

			// BreitlingOrbiter book
			"{{ModId}}_BreitlingOrbiterBookSNF": {
				"Title": "{{i18n:Si.PilotPenny.BreitlingOrbiter.BookName}}",
				"Contents": "Si.PilotPenny.BreitlingOrbiter.BookContent",
				"ObjectId": "(O){{ModId}}_BreitlingOrbiterBookNote",
				"Location": "null",
				"NoteTexture": "Mods/Si.BC/blankbook",
				"NoteTextureIndex": 0,
				"NoteTextColor": "rgb(12, 12, 80)",
				"ActionsOnFirstRead": [
					"AddMail Current {{ModId}}_ReceivedBreitlingOrbiterBook",
					"IncrementStat bc_hasbooks 1",
				]
			},

		}

	},

	// Set up book tags //////////////////////////////////////////////////////////

	// BalloonIntro book
	{
		"Action": "EditData",
		"Target": "Data/Objects",
		"TargetField": [ "{{ModId}}_BalloonIntroBook", "ContextTags" ],
		"Entries": {
			"read_book": "read_book",
		},
		"When": {
			"HasFlag: |contains={{ModId}}_ReceivedBalloonIntroBook": true,
		},
	},
	{
		"Action": "EditData",
		"Target": "Data/Objects",
		"TargetField": [ "{{ModId}}_BalloonIntroBookNote", "ContextTags" ],
		"Entries": {
			"unread_book": "unread_book", // Not needed for SNF books sold in shops (sold_book tag)
		},
		"When": {
			"HasFlag: |contains={{ModId}}_HasBalloonIntroBook": true,
			"HasFlag: |contains={{ModId}}_ReceivedBalloonIntroBook": false,
		},
	},
	{
		"Action": "EditData",
		"Target": "Data/Objects",
		"TargetField": [ "{{ModId}}_BalloonIntroBookNote", "ContextTags" ],
		"Entries": {
			"unread_book": null,
		},
		"When": {
			"HasFlag: |contains={{ModId}}_ReceivedBalloonIntroBook": true,
		},
	},

	// Bouyancy book
	{
		"Action": "EditData",
		"Target": "Data/Objects",
		"TargetField": [ "{{ModId}}_BouyancyBook", "ContextTags" ],
		"Entries": {
			"read_book": "read_book",
		},
		"When": {
			"HasFlag: |contains={{ModId}}_ReceivedBouyancyBook": true,
		},
	},
	{
		"Action": "EditData",
		"Target": "Data/Objects",
		"TargetField": [ "{{ModId}}_BouyancyBookNote", "ContextTags" ],
		"Entries": {
			"unread_book": "unread_book",
		},
		"When": {
			"HasFlag: |contains={{ModId}}_HasBouyancyBook": true,
			"HasFlag: |contains={{ModId}}_ReceivedBouyancyBook": false,
		},
	},
	{
		"Action": "EditData",
		"Target": "Data/Objects",
		"TargetField": [ "{{ModId}}_BouyancyBookNote", "ContextTags" ],
		"Entries": {
			"unread_book": null,
		},
		"When": {
			"HasFlag: |contains={{ModId}}_ReceivedBouyancyBook": true,
		},
	},

	// BalloonCraft book
	{
		"Action": "EditData",
		"Target": "Data/Objects",
		"TargetField": [ "{{ModId}}_BalloonCraftBook", "ContextTags" ],
		"Entries": {
			"read_book": "read_book",
		},
		"When": {
			"HasFlag: |contains={{ModId}}_ReceivedBalloonCraftBook": true,
		},
	},
	{
		"Action": "EditData",
		"Target": "Data/Objects",
		"TargetField": [ "{{ModId}}_BalloonCraftBookNote", "ContextTags" ],
		"Entries": {
			"unread_book": "unread_book",
		},
		"When": {
			"HasFlag: |contains={{ModId}}_HasBalloonCraftBook": true,
			"HasFlag: |contains={{ModId}}_ReceivedBalloonCraftBook": false,
		},
	},
	{
		"Action": "EditData",
		"Target": "Data/Objects",
		"TargetField": [ "{{ModId}}_BalloonCraftBookNote", "ContextTags" ],
		"Entries": {
			"unread_book": null,
		},
		"When": {
			"HasFlag: |contains={{ModId}}_ReceivedBalloonCraftBook": true,
		},
	},

	// BalloonCert book
	{
		"Action": "EditData",
		"Target": "Data/Objects",
		"TargetField": [ "{{ModId}}_BalloonCertBook", "ContextTags" ],
		"Entries": {
			"read_book": "read_book",
		},
		"When": {
			"HasFlag: |contains={{ModId}}_ReceivedBalloonCertBook": true,
		},
	},
	{
		"Action": "EditData",
		"Target": "Data/Objects",
		"TargetField": [ "{{ModId}}_BalloonCertBookNote", "ContextTags" ],
		"Entries": {
			"unread_book": "unread_book",
		},
		"When": {
			"HasFlag: |contains={{ModId}}_HasBalloonCertBook": true,
			"HasFlag: |contains={{ModId}}_ReceivedBalloonCertBook": false,
		},
	},
	{
		"Action": "EditData",
		"Target": "Data/Objects",
		"TargetField": [ "{{ModId}}_BalloonCertBookNote", "ContextTags" ],
		"Entries": {
			"unread_book": null,
		},
		"When": {
			"HasFlag: |contains={{ModId}}_ReceivedBalloonCertBook": true,
		},
	},

	// BreitlingOrbiter book
	{
		"Action": "EditData",
		"Target": "Data/Objects",
		"TargetField": [ "{{ModId}}_BreitlingOrbiterBook", "ContextTags" ],
		"Entries": {
			"read_book": "read_book",
		},
		"When": {
			"HasFlag: |contains={{ModId}}_ReceivedBreitlingOrbiterBook": true,
		},
	},
	{
		"Action": "EditData",
		"Target": "Data/Objects",
		"TargetField": [ "{{ModId}}_BreitlingOrbiterBookNote", "ContextTags" ],
		"Entries": {
			"sold_book": null,
		},
		"When": {
			"HasFlag: |contains={{ModId}}_ReceivedBreitlingOrbiterBook": true,
		},
	},


	// End //////////////////////////////////////////////////////////

	]


}