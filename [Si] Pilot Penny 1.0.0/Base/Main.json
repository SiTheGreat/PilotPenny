{

	"Changes": [

		// Events
		{
			"Action": "Include",
			"FromFile": "Base/Events.json",
    	},

		// Dialogue
		{
			"Action": "Include",
			"FromFile": "Base/Dialogue.json",
		},

		// Schedule
		{
			"Action": "Include",
			"FromFile": "Base/Schedule.json",
		},

		// Temp NPC
		{
			"Action": "Include",
			"FromFile": "Base/TempNPC.json",
		},

		// Balloon Map Patch
		{
			"Action": "EditMap",
			"Target": "Maps/Town",
			"FromFile": "Base/PennyBalloonPatch.tmx",
			"ToArea": { "X": 102, "Y": 12, "Width": 7, "Height": 12 },
			"PatchMode": "Overlay",
			"When": {
					"HasFlag:hostPlayer |contains={{ModId}}_M7": true,
				},
		},
		// Offending tree map patch
		{
			"Action": "EditMap",
			"Target": "Maps/Town",
			"FromFile": "Base/TreePatch.tmx",
			"ToArea": { "X": 104, "Y": 25, "Width": 1, "Height": 1 },
			"PatchMode": "Replace",
		},

		// Sky Map
		{
			"Action": "Load",
			"Target": "Maps/{{ModId}}_Map1",
			"FromFile": "Base/BalloonSky.tmx",
		},
		{
			"Action": "EditData",
			"Target": "Data/Locations",
			"Entries": {
				"{{ModId}}_Map1": {
					"DisplayName": "Balloon Flight Path",						
					"CreateOnLoad": { 
						"MapPath": "Maps/{{ModId}}_Map1" 
					},
					"DefaultArrivalTile": {
						"X": 17,
						"Y": 15
					},
					"MusicDefault": "moonlightJellies",
				},
			},
		},

		// Warps
		{
			"Action": "EditMap",
			"Target": "Maps/Town",
			"When": {
					"HasFlag:hostPlayer |contains={{ModId}}_M7": true,
					"Weather": "Sun, Wind",
				},
			"MapTiles": [
				// Warps to balloonsky
				{
					"Position": { "X": 104, "Y": 22 },
					"Layer": "Buildings",
					"SetProperties": {
						"Action": "Warp 17 15 {{ModId}}_Map1",
					}
				},
				{
					"Position": { "X": 105, "Y": 22 },
					"Layer": "Buildings",
					"SetProperties": {
						"Action": "Warp 17 15 {{ModId}}_Map1"
					}
				},
				{
					"Position": { "X": 106, "Y": 22 },
					"Layer": "Buildings",
					"SetProperties": {
						"Action": "Warp 17 15 {{ModId}}_Map1"
					}
				},
				{
					"Position": { "X": 104, "Y": 23 },
					"Layer": "Buildings",
					"SetProperties": {
						"Action": "Warp 17 15 {{ModId}}_Map1"
					}
				},
				{
					"Position": { "X": 105, "Y": 23 },
					"Layer": "Buildings",
					"SetProperties": {
						"Action": "Warp 17 15 {{ModId}}_Map1"
					}
				},
				{
					"Position": { "X": 106, "Y": 23 },
					"Layer": "Buildings",
					"SetProperties": {
						"Action": "Warp 17 15 {{ModId}}_Map1"
					}
				},
			],
		},
		{
			"Action": "EditMap",
			"Target": "Maps/{{ModId}}_Map1",
			"MapTiles": [
				{
					"Position": { "X": 17, "Y": 16 },
					"Layer": "Buildings",
					"SetProperties": {
						"Action": "Warp 105 24 Town"
					}
				},
				{
					"Position": { "X": 18, "Y": 16 },
					"Layer": "Buildings",
					"SetProperties": {
						"Action": "Warp 105 24 Town"
					}
				},
				{
					"Position": { "X": 16, "Y": 15 },
					"Layer": "Buildings",
					"SetProperties": {
						"Action": "Warp 105 24 Town"
					}
				},
				{
					"Position": { "X": 19, "Y": 15 },
					"Layer": "Buildings",
					"SetProperties": {
						"Action": "Warp 105 24 Town"
					}
				},
				{
					"Position": { "X": 17, "Y": 14 },
					"Layer": "Buildings",
					"SetProperties": {
						"Action": "Warp 105 24 Town"
					}
				},
				{
					"Position": { "X": 18, "Y": 14 },
					"Layer": "Buildings",
					"SetProperties": {
						"Action": "Warp 105 24 Town"
					}
				},
			],
		},

		// Map Strings
		{
			"Action": "EditMap",
			"Target": "Maps/Town",
			"When": {
					"HasFlag:hostPlayer |contains={{ModId}}_M7": true,
					"Weather": "Rain, Storm, GreenRain, Snow",
				},
			"MapTiles": [
				{
					"Position": { "X": 104, "Y": 22 },
					"Layer": "Buildings",
					"SetProperties": {
						"Action": "Message {{ModId}}_BalloonMapString"
					}
				},
				{
					"Position": { "X": 105, "Y": 22 },
					"Layer": "Buildings",
					"SetProperties": {
						"Action": "Message {{ModId}}_BalloonMapString"
					}
				},
				{
					"Position": { "X": 106, "Y": 22 },
					"Layer": "Buildings",
					"SetProperties": {
						"Action": "Message {{ModId}}_BalloonMapString"
					}
				},
				{
					"Position": { "X": 104, "Y": 23 },
					"Layer": "Buildings",
					"SetProperties": {
						"Action": "Message {{ModId}}_BalloonMapString"
					}
				},
				{
					"Position": { "X": 105, "Y": 23 },
					"Layer": "Buildings",
					"SetProperties": {
						"Action": "Message {{ModId}}_BalloonMapString"
					}
				},
				{
					"Position": { "X": 106, "Y": 23 },
					"Layer": "Buildings",
					"SetProperties": {
						"Action": "Message {{ModId}}_BalloonMapString"
					}
				},
			],
		},

		// End //////////////////////////////////////////////////////////

	],

}